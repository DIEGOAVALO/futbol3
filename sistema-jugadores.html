<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sistema de Registro de Jugadores de Fútbol</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <style>
        :root {
            --primary-color: #1a472a;
            --secondary-color: #2ecc71;
            --success-color: #27ae60;
            --warning-color: #f39c12;
            --danger-color: #e74c3c;
            --info-color: #3498db;
            --light-color: #ecf0f1;
            --dark-color: #2c3e50;
            --sidebar-width: 250px;
            --header-height: 70px;
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background: linear-gradient(135deg, var(--primary-color) 0%, #0d2e1a 100%);
            color: white;
            line-height: 1.6;
            min-height: 100vh;
            overflow-x: hidden;
        }
        
        .app-container {
            display: flex;
            min-height: 100vh;
        }
        
        /* Sidebar */
        .sidebar {
            width: var(--sidebar-width);
            background: rgba(26, 71, 42, 0.95);
            backdrop-filter: blur(10px);
            padding: 20px 0;
            box-shadow: 3px 0 10px rgba(0, 0, 0, 0.2);
            z-index: 100;
            transition: all 0.3s ease;
        }
        
        .logo {
            text-align: center;
            padding: 0 20px 20px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 20px;
        }
        
        .logo h2 {
            color: var(--secondary-color);
            font-size: 1.5rem;
        }
        
        .logo p {
            font-size: 0.8rem;
            opacity: 0.7;
        }
        
        .nav-menu {
            list-style: none;
        }
        
        .nav-item {
            margin-bottom: 5px;
        }
        
        .nav-link {
            display: flex;
            align-items: center;
            padding: 12px 20px;
            color: white;
            text-decoration: none;
            transition: all 0.3s;
            border-left: 3px solid transparent;
        }
        
        .nav-link:hover {
            background: rgba(46, 204, 113, 0.1);
            border-left-color: var(--secondary-color);
        }
        
        .nav-link.active {
            background: rgba(46, 204, 113, 0.2);
            border-left-color: var(--secondary-color);
            font-weight: bold;
        }
        
        .nav-link i {
            margin-right: 10px;
            width: 20px;
            text-align: center;
        }
        
        /* Main Content */
        .main-content {
            flex: 1;
            display: flex;
            flex-direction: column;
        }
        
        .header {
            height: var(--header-height);
            background: rgba(44, 62, 80, 0.9);
            backdrop-filter: blur(10px);
            padding: 0 30px;
            display: flex;
            align-items: center;
            justify-content: space-between;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
            z-index: 99;
        }
        
        .header-title {
            font-size: 1.5rem;
            font-weight: 600;
        }
        
        .user-menu {
            display: flex;
            align-items: center;
            gap: 15px;
        }
        
        .notification-bell {
            position: relative;
            cursor: pointer;
            font-size: 1.2rem;
        }
        
        .notification-badge {
            position: absolute;
            top: -5px;
            right: -5px;
            background: var(--danger-color);
            color: white;
            border-radius: 50%;
            width: 18px;
            height: 18px;
            font-size: 0.7rem;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        
        .user-avatar {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            background: var(--secondary-color);
            display: flex;
            align-items: center;
            justify-content: center;
            font-weight: bold;
            cursor: pointer;
        }
        
        /* Content Area */
        .content {
            flex: 1;
            padding: 30px;
            overflow-y: auto;
        }
        
        .tab-content {
            display: none;
            animation: fadeIn 0.5s ease;
        }
        
        .tab-content.active {
            display: block;
        }
        
        @keyframes fadeIn {
            from { opacity: 0; transform: translateY(10px); }
            to { opacity: 1; transform: translateY(0); }
        }
        
        /* Cards */
        .card {
            background: rgba(44, 62, 80, 0.7);
            border-radius: 12px;
            padding: 25px;
            margin-bottom: 25px;
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            backdrop-filter: blur(10px);
            border: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .card-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .card-title {
            font-size: 1.3rem;
            color: var(--secondary-color);
            font-weight: 600;
        }
        
        .card-actions {
            display: flex;
            gap: 10px;
        }
        
        /* Stats Grid */
        .stats-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 20px;
            margin-bottom: 30px;
        }
        
        .stat-card {
            background: linear-gradient(135deg, var(--dark-color) 0%, #1a472a 100%);
            border-radius: 10px;
            padding: 20px;
            text-align: center;
            box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
            transition: transform 0.3s;
        }
        
        .stat-card:hover {
            transform: translateY(-5px);
        }
        
        .stat-icon {
            font-size: 2rem;
            margin-bottom: 10px;
        }
        
        .stat-value {
            font-size: 2rem;
            font-weight: bold;
            margin: 10px 0;
        }
        
        .stat-label {
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        /* Buttons */
        .btn {
            display: inline-flex;
            align-items: center;
            gap: 8px;
            background: var(--secondary-color);
            color: white;
            border: none;
            padding: 10px 20px;
            border-radius: 6px;
            cursor: pointer;
            transition: all 0.3s;
            font-weight: 600;
            text-decoration: none;
        }
        
        .btn:hover {
            background: #27ae60;
            transform: translateY(-2px);
            box-shadow: 0 4px 8px rgba(0, 0, 0, 0.2);
        }
        
        .btn-success {
            background: var(--success-color);
        }
        
        .btn-success:hover {
            background: #219653;
        }
        
        .btn-warning {
            background: var(--warning-color);
        }
        
        .btn-warning:hover {
            background: #e67e22;
        }
        
        .btn-danger {
            background: var(--danger-color);
        }
        
        .btn-danger:hover {
            background: #c0392b;
        }
        
        .btn-info {
            background: var(--info-color);
        }
        
        .btn-info:hover {
            background: #2980b9;
        }
        
        /* Forms */
        .form-group {
            margin-bottom: 20px;
        }
        
        .form-label {
            display: block;
            margin-bottom: 8px;
            font-weight: 600;
        }
        
        .form-control {
            width: 100%;
            padding: 12px 15px;
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 6px;
            background: rgba(255, 255, 255, 0.1);
            color: white;
            transition: all 0.3s;
        }
        
        .form-control:focus {
            outline: none;
            border-color: var(--secondary-color);
            box-shadow: 0 0 0 2px rgba(46, 204, 113, 0.2);
        }
        
        .form-row {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 15px;
        }
        
        /* Results */
        .results-container {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(300px, 1fr));
            gap: 20px;
            margin-top: 20px;
        }
        
        .result-card {
            background: rgba(44, 62, 80, 0.8);
            border-radius: 10px;
            padding: 20px;
            transition: all 0.3s;
            border-left: 4px solid var(--secondary-color);
        }
        
        .result-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
        }
        
        .result-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 15px;
        }
        
        .result-name {
            font-size: 1.2rem;
            font-weight: 600;
        }
        
        .result-confidence {
            background: var(--success-color);
            color: white;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        .result-details {
            font-size: 0.9rem;
            opacity: 0.8;
        }
        
        /* Tables */
        .table-container {
            overflow-x: auto;
            border-radius: 8px;
        }
        
        .data-table {
            width: 100%;
            border-collapse: collapse;
            background: rgba(44, 62, 80, 0.7);
        }
        
        .data-table th,
        .data-table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .data-table th {
            background: rgba(26, 71, 42, 0.9);
            font-weight: 600;
            color: var(--secondary-color);
        }
        
        .data-table tr:hover {
            background: rgba(46, 204, 113, 0.1);
        }
        
        /* Charts */
        .chart-container {
            height: 300px;
            margin: 20px 0;
        }
        
        /* Progress bars */
        .progress-bar {
            height: 8px;
            background: rgba(255, 255, 255, 0.1);
            border-radius: 4px;
            overflow: hidden;
            margin: 10px 0;
        }
        
        .progress-fill {
            height: 100%;
            background: var(--secondary-color);
            border-radius: 4px;
            transition: width 0.5s ease;
        }
        
        /* Tabs */
        .content-tabs {
            display: flex;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
            margin-bottom: 20px;
        }
        
        .content-tab {
            padding: 12px 20px;
            cursor: pointer;
            border-bottom: 2px solid transparent;
            transition: all 0.3s;
        }
        
        .content-tab.active {
            border-bottom-color: var(--secondary-color);
            color: var(--secondary-color);
            font-weight: 600;
        }
        
        .content-tab:hover {
            background: rgba(46, 204, 113, 0.1);
        }
        
        /* Notifications */
        .notification {
            position: fixed;
            top: 20px;
            right: 20px;
            padding: 15px 20px;
            border-radius: 8px;
            background: var(--dark-color);
            box-shadow: 0 5px 15px rgba(0, 0, 0, 0.2);
            display: flex;
            align-items: center;
            gap: 10px;
            z-index: 1000;
            transform: translateX(150%);
            transition: transform 0.3s ease;
        }
        
        .notification.show {
            transform: translateX(0);
        }
        
        .notification-success {
            border-left: 4px solid var(--success-color);
        }
        
        .notification-error {
            border-left: 4px solid var(--danger-color);
        }
        
        .notification-warning {
            border-left: 4px solid var(--warning-color);
        }
        
        /* No results state */
        .no-results {
            text-align: center;
            padding: 40px 20px;
            opacity: 0.7;
        }
        
        .no-results i {
            font-size: 3rem;
            margin-bottom: 15px;
        }
        
        /* Responsive */
        @media (max-width: 992px) {
            .app-container {
                flex-direction: column;
            }
            
            .sidebar {
                width: 100%;
                height: auto;
            }
            
            .nav-menu {
                display: flex;
                overflow-x: auto;
            }
            
            .nav-item {
                flex-shrink: 0;
            }
            
            .nav-link {
                border-left: none;
                border-bottom: 3px solid transparent;
            }
            
            .nav-link.active {
                border-left: none;
                border-bottom: 3px solid var(--secondary-color);
            }
        }
        
        @media (max-width: 768px) {
            .form-row {
                grid-template-columns: 1fr;
            }
            
            .stats-grid {
                grid-template-columns: repeat(2, 1fr);
            }
            
            .btn {
                width: 100%;
                justify-content: center;
            }
        }
        
        /* Animations */
        .pulse {
            animation: pulse 2s infinite;
        }
        
        @keyframes pulse {
            0% { transform: scale(1); }
            50% { transform: scale(1.05); }
            100% { transform: scale(1); }
        }
        
        .fade-in {
            animation: fadeIn 0.5s ease;
        }
        
        /* Loading spinner */
        .spinner {
            width: 40px;
            height: 40px;
            border: 4px solid rgba(255, 255, 255, 0.1);
            border-left: 4px solid var(--secondary-color);
            border-radius: 50%;
            animation: spin 1s linear infinite;
            margin: 20px auto;
        }
        
        @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
        }
        
        /* Badges */
        .badge {
            display: inline-block;
            padding: 4px 10px;
            border-radius: 20px;
            font-size: 0.8rem;
            font-weight: bold;
        }
        
        .badge-success {
            background: var(--success-color);
        }
        
        .badge-warning {
            background: var(--warning-color);
        }
        
        .badge-danger {
            background: var(--danger-color);
        }
        
        .badge-info {
            background: var(--info-color);
        }
        
        /* Security levels */
        .security-levels {
            display: flex;
            gap: 15px;
        }
        
        .security-option {
            display: flex;
            align-items: center;
            gap: 8px;
            cursor: pointer;
        }
        
        /* Range inputs */
        .range-inputs {
            display: flex;
            align-items: center;
            gap: 10px;
        }
        
        /* Status indicators */
        .status-indicators {
            display: flex;
            gap: 20px;
        }
        
        .status-item {
            display: flex;
            gap: 8px;
        }
        
        .status-label {
            opacity: 0.8;
        }
        
        .status-value {
            font-weight: bold;
        }
        
        /* Estilos específicos para fútbol */
        .player-position {
            display: inline-block;
            padding: 4px 12px;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: bold;
            margin: 2px;
        }
        
        .position-portero { background: #e74c3c; }
        .position-defensa { background: #3498db; }
        .position-medio { background: #f39c12; }
        .position-delantero { background: #2ecc71; }
        
        .skill-bar {
            display: flex;
            align-items: center;
            margin: 5px 0;
        }
        
        .skill-label {
            width: 120px;
            font-size: 0.9rem;
        }
        
        .skill-value {
            width: 40px;
            text-align: right;
            margin-right: 10px;
        }
        
        /* Modal */
        .modal {
            display: none;
            position: fixed;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            z-index: 1000;
            justify-content: center;
            align-items: center;
        }
        
        .modal-content {
            background: rgba(44, 62, 80, 0.95);
            border-radius: 12px;
            padding: 30px;
            width: 90%;
            max-width: 600px;
            max-height: 90vh;
            overflow-y: auto;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
        }
        
        .modal-header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            padding-bottom: 15px;
            border-bottom: 1px solid rgba(255, 255, 255, 0.1);
        }
        
        .modal-title {
            font-size: 1.5rem;
            color: var(--secondary-color);
        }
        
        .close-modal {
            background: none;
            border: none;
            color: white;
            font-size: 1.5rem;
            cursor: pointer;
        }
    </style>
</head>
<body>
    <div class="app-container">
        <!-- Sidebar -->
        <div class="sidebar">
            <div class="logo">
                <h2><i class="fas fa-futbol"></i> FootballScout Pro</h2>
                <p>Sistema de Registro de Jugadores</p>
            </div>
            <ul class="nav-menu">
                <li class="nav-item">
                    <a href="#" class="nav-link active" data-tab="dashboard">
                        <i class="fas fa-home"></i> Dashboard
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" data-tab="register">
                        <i class="fas fa-user-plus"></i> Registrar Jugador
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" data-tab="search">
                        <i class="fas fa-search"></i> Buscar Jugador
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" data-tab="manage">
                        <i class="fas fa-users"></i> Gestionar Jugadores
                    </a>
                </li>
                <li class="nav-item">
                    <a href="#" class="nav-link" data-tab="reports">
                        <i class="fas fa-chart-bar"></i> Reportes
                    </a>
                </li>
            </ul>
        </div>
        
        <!-- Main Content -->
        <div class="main-content">
            <!-- Header -->
            <div class="header">
                <div class="header-title">Dashboard Principal</div>
                <div class="user-menu">
                    <div class="notification-bell">
                        <i class="fas fa-bell"></i>
                        <span class="notification-badge">3</span>
                    </div>
                    <div class="user-avatar">SC</div>
                </div>
            </div>
            
            <!-- Content Area -->
            <div class="content">
                <!-- Dashboard Tab -->
                <div class="tab-content active" id="dashboard">
                    <div class="stats-grid">
                        <div class="stat-card">
                            <div class="stat-icon" style="color: #2ecc71;">
                                <i class="fas fa-users"></i>
                            </div>
                            <div class="stat-value" id="totalPlayers">0</div>
                            <div class="stat-label">Jugadores Registrados</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon" style="color: #3498db;">
                                <i class="fas fa-futbol"></i>
                            </div>
                            <div class="stat-value" id="totalTeams">0</div>
                            <div class="stat-label">Equipos Diferentes</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon" style="color: #f39c12;">
                                <i class="fas fa-search"></i>
                            </div>
                            <div class="stat-value" id="totalSearches">0</div>
                            <div class="stat-label">Búsquedas Realizadas</div>
                        </div>
                        <div class="stat-card">
                            <div class="stat-icon" style="color: #e74c3c;">
                                <i class="fas fa-chart-line"></i>
                            </div>
                            <div class="stat-value" id="scoutingRate">94%</div>
                            <div class="stat-label">Tasa de Scouting</div>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">Actividad Reciente</div>
                            <div class="card-actions">
                                <button class="btn btn-info" id="refreshActivity">
                                    <i class="fas fa-sync-alt"></i> Actualizar
                                </button>
                            </div>
                        </div>
                        <div class="table-container">
                            <table class="data-table">
                                <thead>
                                    <tr>
                                        <th>Fecha/Hora</th>
                                        <th>Scout</th>
                                        <th>Acción</th>
                                        <th>Detalles</th>
                                        <th>Estado</th>
                                    </tr>
                                </thead>
                                <tbody id="activityTable">
                                    <!-- Activity data will be populated here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                    
                    <div class="form-row">
                        <div class="card" style="flex: 1;">
                            <div class="card-header">
                                <div class="card-title">Rendimiento del Sistema</div>
                            </div>
                            <div class="chart-container">
                                <canvas id="performanceChart"></canvas>
                            </div>
                        </div>
                        
                        <div class="card" style="flex: 1;">
                            <div class="card-header">
                                <div class="card-title">Distribución por Posición</div>
                            </div>
                            <div class="chart-container">
                                <canvas id="positionChart"></canvas>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Register Tab -->
                <div class="tab-content" id="register">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">Registrar Nuevo Jugador</div>
                        </div>
                        
                        <form id="registerForm">
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label" for="playerName">Nombre completo *</label>
                                    <input type="text" id="playerName" class="form-control" required>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label" for="playerNumber">Número/Dorsal</label>
                                    <input type="number" id="playerNumber" class="form-control" min="1" max="99">
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label" for="playerAge">Edad</label>
                                    <input type="number" id="playerAge" class="form-control" min="16" max="45">
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label" for="playerNationality">Nacionalidad</label>
                                    <input type="text" id="playerNationality" class="form-control">
                                </div>
                            </div>
                            
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label" for="playerPosition">Posición Principal *</label>
                                    <select id="playerPosition" class="form-control" required>
                                        <option value="">Seleccionar</option>
                                        <option value="Portero">Portero</option>
                                        <option value="Defensa">Defensa</option>
                                        <option value="Mediocampista">Mediocampista</option>
                                        <option value="Delantero">Delantero</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label" for="playerTeam">Equipo Actual</label>
                                    <input type="text" id="playerTeam" class="form-control">
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Habilidades Técnicas (1-10)</label>
                                <div class="skill-bar">
                                    <div class="skill-label">Regate</div>
                                    <div class="skill-value" id="dribblingValue">5</div>
                                    <input type="range" id="dribbling" class="form-control" min="1" max="10" value="5">
                                </div>
                                <div class="skill-bar">
                                    <div class="skill-label">Tiro</div>
                                    <div class="skill-value" id="shootingValue">5</div>
                                    <input type="range" id="shooting" class="form-control" min="1" max="10" value="5">
                                </div>
                                <div class="skill-bar">
                                    <div class="skill-label">Pase</div>
                                    <div class="skill-value" id="passingValue">5</div>
                                    <input type="range" id="passing" class="form-control" min="1" max="10" value="5">
                                </div>
                                <div class="skill-bar">
                                    <div class="skill-label">Defensa</div>
                                    <div class="skill-value" id="defenseValue">5</div>
                                    <input type="range" id="defense" class="form-control" min="1" max="10" value="5">
                                </div>
                                <div class="skill-bar">
                                    <div class="skill-label">Físico</div>
                                    <div class="skill-value" id="physicalValue">5</div>
                                    <input type="range" id="physical" class="form-control" min="1" max="10" value="5">
                                </div>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label" for="playerValue">Valor de Mercado (€)</label>
                                <input type="number" id="playerValue" class="form-control" min="0" step="1000">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label" for="playerTags">Etiquetas (separadas por comas)</label>
                                <input type="text" id="playerTags" class="form-control" placeholder="promesa, goleador, capitán, ...">
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label" for="playerNotes">Observaciones del Scout</label>
                                <textarea id="playerNotes" class="form-control" rows="3"></textarea>
                            </div>
                            
                            <div class="form-group">
                                <label class="form-label">Nivel de prospecto</label>
                                <div class="security-levels">
                                    <label class="security-option">
                                        <input type="radio" name="prospectLevel" value="local" checked>
                                        <span class="badge badge-info">Local</span>
                                    </label>
                                    <label class="security-option">
                                        <input type="radio" name="prospectLevel" value="nacional">
                                        <span class="badge badge-warning">Nacional</span>
                                    </label>
                                    <label class="security-option">
                                        <input type="radio" name="prospectLevel" value="internacional">
                                        <span class="badge badge-danger">Internacional</span>
                                    </label>
                                </div>
                            </div>
                            
                            <div class="form-actions" style="display: flex; gap: 10px; margin-top: 20px;">
                                <button type="submit" class="btn btn-success">
                                    <i class="fas fa-save"></i> Registrar Jugador
                                </button>
                                <button type="button" class="btn btn-warning" id="resetFormBtn">
                                    <i class="fas fa-undo"></i> Limpiar Formulario
                                </button>
                            </div>
                        </form>
                        
                        <div id="registerResult" class="result-message" style="margin-top: 20px;"></div>
                    </div>
                </div>
                
                <!-- Search Tab -->
                <div class="tab-content" id="search">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">Búsqueda de Jugadores</div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label" for="searchName">Nombre</label>
                                <input type="text" id="searchName" class="form-control">
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="searchPosition">Posición</label>
                                <select id="searchPosition" class="form-control">
                                    <option value="">Cualquier posición</option>
                                    <option value="Portero">Portero</option>
                                    <option value="Defensa">Defensa</option>
                                    <option value="Mediocampista">Mediocampista</option>
                                    <option value="Delantero">Delantero</option>
                                </select>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label" for="searchAgeFrom">Edad (desde-hasta)</label>
                                <div class="range-inputs">
                                    <input type="number" id="searchAgeFrom" class="form-control" placeholder="16" min="16" max="45">
                                    <span>a</span>
                                    <input type="number" id="searchAgeTo" class="form-control" placeholder="35" min="16" max="45">
                                </div>
                            </div>
                            <div class="form-group">
                                <label class="form-label" for="searchTeam">Equipo</label>
                                <input type="text" id="searchTeam" class="form-control">
                            </div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label" for="searchTags">Etiquetas</label>
                            <input type="text" id="searchTags" class="form-control" placeholder="promesa, goleador, capitán, ...">
                        </div>
                        
                        <div class="search-actions" style="display: flex; gap: 10px; margin-top: 20px;">
                            <button class="btn btn-success" id="searchBtn">
                                <i class="fas fa-search"></i> Iniciar Búsqueda
                            </button>
                            <button class="btn btn-warning" id="clearSearchBtn">
                                <i class="fas fa-times"></i> Limpiar Filtros
                            </button>
                        </div>
                    </div>
                    
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">Resultados de Búsqueda</div>
                            <div class="card-actions">
                                <button class="btn btn-info" id="exportResultsBtn">
                                    <i class="fas fa-download"></i> Exportar Resultados
                                </button>
                            </div>
                        </div>
                        <div class="results-container" id="searchResults">
                            <div class="no-results">
                                <i class="fas fa-search"></i>
                                <p>Realice una búsqueda para ver los resultados</p>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- Manage Tab -->
                <div class="tab-content" id="manage">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">Gestión de Jugadores Registrados</div>
                            <div class="card-actions">
                                <button class="btn btn-success" id="addPlayerBtn">
                                    <i class="fas fa-user-plus"></i> Agregar Jugador
                                </button>
                                <button class="btn btn-info" id="refreshListBtn">
                                    <i class="fas fa-sync-alt"></i> Actualizar
                                </button>
                            </div>
                        </div>
                        
                        <div class="table-controls">
                            <div class="form-row">
                                <div class="form-group">
                                    <label class="form-label" for="filterPosition">Filtrar por posición</label>
                                    <select id="filterPosition" class="form-control">
                                        <option value="">Todas las posiciones</option>
                                        <option value="Portero">Portero</option>
                                        <option value="Defensa">Defensa</option>
                                        <option value="Mediocampista">Mediocampista</option>
                                        <option value="Delantero">Delantero</option>
                                    </select>
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label" for="filterTeam">Filtrar por equipo</label>
                                    <input type="text" id="filterTeam" class="form-control" placeholder="Nombre del equipo">
                                </div>
                                
                                <div class="form-group">
                                    <label class="form-label" for="searchTable">Buscar</label>
                                    <input type="text" id="searchTable" class="form-control" placeholder="Nombre, equipo, posición...">
                                </div>
                            </div>
                        </div>
                        
                        <div class="table-container">
                            <table class="data-table" id="playersTable">
                                <thead>
                                    <tr>
                                        <th>ID</th>
                                        <th>Nombre</th>
                                        <th>Edad</th>
                                        <th>Posición</th>
                                        <th>Equipo</th>
                                        <th>Número</th>
                                        <th>Valor (€)</th>
                                        <th>Estado</th>
                                        <th>Acciones</th>
                                    </tr>
                                </thead>
                                <tbody>
                                    <!-- Players data will be populated here -->
                                </tbody>
                            </table>
                        </div>
                    </div>
                </div>
                
                <!-- Reports Tab -->
                <div class="tab-content" id="reports">
                    <div class="card">
                        <div class="card-header">
                            <div class="card-title">Reportes y Estadísticas</div>
                            <div class="card-actions">
                                <button class="btn btn-success" id="generateReportBtn">
                                    <i class="fas fa-file-pdf"></i> Generar Reporte
                                </button>
                            </div>
                        </div>
                        
                        <div class="content-tabs">
                            <div class="content-tab active" data-report="summary">Resumen</div>
                            <div class="content-tab" data-report="performance">Rendimiento</div>
                        </div>
                        
                        <div class="report-content">
                            <div class="report-type active" data-type="summary">
                                <div class="form-row">
                                    <div class="card">
                                        <div class="card-header">
                                            <div class="card-title">Resumen General</div>
                                        </div>
                                        <div class="report-summary" style="display: grid; grid-template-columns: repeat(2, 1fr); gap: 20px;">
                                            <div class="summary-item" style="text-align: center;">
                                                <div class="summary-value" id="reportTotalPlayers" style="font-size: 2.5rem; font-weight: bold;">0</div>
                                                <div class="summary-label">Jugadores Registrados</div>
                                            </div>
                                            <div class="summary-item" style="text-align: center;">
                                                <div class="summary-value" id="reportTotalTeams" style="font-size: 2.5rem; font-weight: bold;">0</div>
                                                <div class="summary-label">Equipos Diferentes</div>
                                            </div>
                                            <div class="summary-item" style="text-align: center;">
                                                <div class="summary-value" id="reportTotalSearches" style="font-size: 2.5rem; font-weight: bold;">0</div>
                                                <div class="summary-label">Búsquedas Realizadas</div>
                                            </div>
                                            <div class="summary-item" style="text-align: center;">
                                                <div class="summary-value" id="reportScoutingRate" style="font-size: 2.5rem; font-weight: bold;">94%</div>
                                                <div class="summary-label">Tasa de Scouting</div>
                                            </div>
                                        </div>
                                    </div>
                                    
                                    <div class="card">
                                        <div class="card-header">
                                            <div class="card-title">Distribución por Posición</div>
                                        </div>
                                        <div class="chart-container">
                                            <canvas id="reportPositionChart"></canvas>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="card">
                                    <div class="card-header">
                                        <div class="card-title">Actividad por Fecha</div>
                                    </div>
                                    <div class="chart-container">
                                        <canvas id="reportActivityChart"></canvas>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="report-type" data-type="performance">
                                <div class="card">
                                    <div class="card-header">
                                        <div class="card-title">Métricas de Rendimiento</div>
                                    </div>
                                    <div class="accuracy-metrics">
                                        <div class="metric" style="margin-bottom: 15px;">
                                            <div class="metric-label">Registro de Jugadores</div>
                                            <div class="progress-bar">
                                                <div class="progress-fill" style="width: 92%"></div>
                                            </div>
                                            <div class="metric-value">92%</div>
                                        </div>
                                        <div class="metric" style="margin-bottom: 15px;">
                                            <div class="metric-label">Búsqueda de Talentos</div>
                                            <div class="progress-bar">
                                                <div class="progress-fill" style="width: 88%"></div>
                                            </div>
                                            <div class="metric-value">88%</div>
                                        </div>
                                        <div class="metric" style="margin-bottom: 15px;">
                                            <div class="metric-label">Evaluación de Habilidades</div>
                                            <div class="progress-bar">
                                                <div class="progress-fill" style="width: 85%"></div>
                                            </div>
                                            <div class="metric-value">85%</div>
                                        </div>
                                        <div class="metric" style="margin-bottom: 15px;">
                                            <div class="metric-label">Generación de Reportes</div>
                                            <div class="progress-bar">
                                                <div class="progress-fill" style="width: 95%"></div>
                                            </div>
                                            <div class="metric-value">95%</div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Player Detail Modal -->
    <div class="modal" id="playerModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3 class="modal-title">Detalles del Jugador</h3>
                <button class="close-modal">&times;</button>
            </div>
            <div id="playerModalContent">
                <!-- Player details will be populated here -->
            </div>
        </div>
    </div>
    
    <!-- Notification Container -->
    <div id="notificationContainer"></div>
    
    <script>
        // Sistema de Registro de Jugadores de Fútbol - Versión Funcional
        class FootballScoutingSystem {
            constructor() {
                this.players = JSON.parse(localStorage.getItem('footballScoutingPlayers')) || [];
                this.activityLog = JSON.parse(localStorage.getItem('footballScoutingActivity')) || [];
                this.searchCount = parseInt(localStorage.getItem('footballScoutingSearchCount')) || 0;
                
                this.init();
            }
            
            init() {
                this.setupEventListeners();
                this.updateDashboard();
                this.refreshPlayersList();
                this.initializeCharts();
                this.logActivity('Sistema de scouting iniciado', 'info');
            }
            
            setupEventListeners() {
                // Navegación
                document.querySelectorAll('.nav-link').forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        const tabId = link.getAttribute('data-tab');
                        this.switchTab(tabId);
                    });
                });
                
                // Formulario de registro
                document.getElementById('registerForm').addEventListener('submit', (e) => {
                    e.preventDefault();
                    this.registerPlayer();
                });
                
                // Sliders de habilidades
                this.setupSkillSliders();
                
                document.getElementById('resetFormBtn').addEventListener('click', () => {
                    this.resetRegisterForm();
                });
                
                // Búsqueda
                document.getElementById('searchBtn').addEventListener('click', () => {
                    this.performSearch();
                });
                
                document.getElementById('clearSearchBtn').addEventListener('click', () => {
                    this.clearSearch();
                });
                
                // Gestión
                document.getElementById('refreshListBtn').addEventListener('click', () => {
                    this.refreshPlayersList();
                });
                
                document.getElementById('addPlayerBtn').addEventListener('click', () => {
                    this.switchTab('register');
                });
                
                // Filtros de tabla
                document.getElementById('filterPosition').addEventListener('change', () => {
                    this.refreshPlayersList();
                });
                
                document.getElementById('filterTeam').addEventListener('input', () => {
                    this.refreshPlayersList();
                });
                
                document.getElementById('searchTable').addEventListener('input', () => {
                    this.refreshPlayersList();
                });
                
                // Reportes
                document.getElementById('generateReportBtn').addEventListener('click', () => {
                    this.generateReport();
                });
                
                // Modal
                document.querySelector('.close-modal').addEventListener('click', () => {
                    this.closeModal();
                });
                
                document.getElementById('playerModal').addEventListener('click', (e) => {
                    if (e.target.id === 'playerModal') {
                        this.closeModal();
                    }
                });
                
                // Pestañas de reportes
                this.setupReportTabs();
            }
            
            setupSkillSliders() {
                const skills = ['dribbling', 'shooting', 'passing', 'defense', 'physical'];
                skills.forEach(skill => {
                    const slider = document.getElementById(skill);
                    const valueDisplay = document.getElementById(skill + 'Value');
                    
                    slider.addEventListener('input', (e) => {
                        valueDisplay.textContent = e.target.value;
                    });
                });
            }
            
            setupReportTabs() {
                document.querySelectorAll('[data-report]').forEach(tab => {
                    tab.addEventListener('click', () => {
                        const reportType = tab.getAttribute('data-report');
                        this.switchReportType(reportType);
                    });
                });
            }
            
            switchTab(tabId) {
                // Ocultar todas las pestañas
                document.querySelectorAll('.tab-content').forEach(tab => {
                    tab.classList.remove('active');
                });
                
                // Desactivar todos los enlaces
                document.querySelectorAll('.nav-link').forEach(link => {
                    link.classList.remove('active');
                });
                
                // Activar pestaña seleccionada
                document.getElementById(tabId).classList.add('active');
                document.querySelector(`[data-tab="${tabId}"]`).classList.add('active');
                
                // Actualizar título del header
                const tabTitles = {
                    dashboard: 'Dashboard Principal',
                    register: 'Registrar Jugador',
                    search: 'Buscar Jugador',
                    manage: 'Gestionar Jugadores',
                    reports: 'Reportes y Estadísticas'
                };
                
                document.querySelector('.header-title').textContent = tabTitles[tabId] || 'Sistema de Scouting de Fútbol';
                
                this.logActivity(`Cambió a pestaña: ${tabTitles[tabId]}`, 'info');
            }
            
            switchReportType(type) {
                document.querySelectorAll('.content-tab').forEach(tab => {
                    tab.classList.remove('active');
                });
                
                document.querySelectorAll('.report-type').forEach(content => {
                    content.classList.remove('active');
                });
                
                document.querySelector(`[data-report="${type}"]`).classList.add('active');
                document.querySelector(`.report-type[data-type="${type}"]`).classList.add('active');
                
                if (type === 'summary') {
                    this.updateReportSummary();
                }
            }
            
            // REGISTRO DE JUGADORES
            registerPlayer() {
                const name = document.getElementById('playerName').value.trim();
                
                if (!name) {
                    this.showNotification('El nombre es obligatorio', 'error');
                    return;
                }
                
                const player = {
                    id: this.generateId(),
                    name: name,
                    number: parseInt(document.getElementById('playerNumber').value) || null,
                    age: parseInt(document.getElementById('playerAge').value) || null,
                    nationality: document.getElementById('playerNationality').value || 'No especificada',
                    position: document.getElementById('playerPosition').value,
                    team: document.getElementById('playerTeam').value || 'Sin equipo',
                    skills: {
                        dribbling: parseInt(document.getElementById('dribbling').value),
                        shooting: parseInt(document.getElementById('shooting').value),
                        passing: parseInt(document.getElementById('passing').value),
                        defense: parseInt(document.getElementById('defense').value),
                        physical: parseInt(document.getElementById('physical').value)
                    },
                    marketValue: parseInt(document.getElementById('playerValue').value) || 0,
                    tags: document.getElementById('playerTags').value.split(',').map(tag => tag.trim()).filter(tag => tag),
                    notes: document.getElementById('playerNotes').value,
                    prospectLevel: document.querySelector('input[name="prospectLevel"]:checked').value,
                    createdDate: new Date().toISOString(),
                    status: 'active'
                };
                
                this.players.push(player);
                this.saveData();
                
                this.showNotification(`Jugador "${player.name}" registrado correctamente`, 'success');
                this.resetRegisterForm();
                this.updateDashboard();
                this.refreshPlayersList();
                this.logActivity(`Registró nuevo jugador: ${player.name}`, 'success');
            }
            
            resetRegisterForm() {
                document.getElementById('registerForm').reset();
                
                // Resetear sliders de habilidades
                const skills = ['dribbling', 'shooting', 'passing', 'defense', 'physical'];
                skills.forEach(skill => {
                    document.getElementById(skill).value = 5;
                    document.getElementById(skill + 'Value').textContent = '5';
                });
            }
            
            // BÚSQUEDA
            performSearch() {
                const name = document.getElementById('searchName').value.toLowerCase();
                const position = document.getElementById('searchPosition').value;
                const ageFrom = parseInt(document.getElementById('searchAgeFrom').value) || 16;
                const ageTo = parseInt(document.getElementById('searchAgeTo').value) || 45;
                const team = document.getElementById('searchTeam').value.toLowerCase();
                const tags = document.getElementById('searchTags').value.split(',').map(tag => tag.trim()).filter(tag => tag);
                
                const results = this.players.filter(player => {
                    // Filtro por nombre
                    if (name && !player.name.toLowerCase().includes(name)) {
                        return false;
                    }
                    
                    // Filtro por posición
                    if (position && player.position !== position) {
                        return false;
                    }
                    
                    // Filtro por edad
                    if (player.age && (player.age < ageFrom || player.age > ageTo)) {
                        return false;
                    }
                    
                    // Filtro por equipo
                    if (team && !player.team.toLowerCase().includes(team)) {
                        return false;
                    }
                    
                    // Filtro por etiquetas
                    if (tags.length > 0 && !tags.some(tag => player.tags.includes(tag))) {
                        return false;
                    }
                    
                    return true;
                });
                
                this.displaySearchResults(results);
                this.searchCount++;
                localStorage.setItem('footballScoutingSearchCount', this.searchCount.toString());
                this.logActivity(`Realizó búsqueda con ${results.length} resultados`, 'info');
            }
            
            clearSearch() {
                document.getElementById('searchName').value = '';
                document.getElementById('searchPosition').value = '';
                document.getElementById('searchAgeFrom').value = '';
                document.getElementById('searchAgeTo').value = '';
                document.getElementById('searchTeam').value = '';
                document.getElementById('searchTags').value = '';
                
                document.getElementById('searchResults').innerHTML = `
                    <div class="no-results">
                        <i class="fas fa-search"></i>
                        <p>Realice una búsqueda para ver los resultados</p>
                    </div>
                `;
            }
            
            displaySearchResults(results) {
                const container = document.getElementById('searchResults');
                
                if (results.length === 0) {
                    container.innerHTML = `
                        <div class="no-results">
                            <i class="fas fa-search"></i>
                            <p>No se encontraron resultados para la búsqueda</p>
                        </div>
                    `;
                    return;
                }
                
                container.innerHTML = '';
                
                results.forEach(player => {
                    const card = document.createElement('div');
                    card.className = 'result-card';
                    
                    const positionClass = this.getPositionClass(player.position);
                    const overallRating = this.calculateOverallRating(player);
                    
                    card.innerHTML = `
                        <div class="result-header">
                            <div class="result-name">${player.name}</div>
                            <div class="result-confidence">${overallRating}/10</div>
                        </div>
                        <div class="result-details">
                            <p><strong>Edad:</strong> ${player.age || 'N/A'}</p>
                            <p><strong>Posición:</strong> <span class="player-position ${positionClass}">${player.position || 'N/A'}</span></p>
                            <p><strong>Equipo:</strong> ${player.team || 'N/A'}</p>
                            <p><strong>Número:</strong> ${player.number || 'N/A'}</p>
                            <p><strong>Valor:</strong> ${player.marketValue ? '€' + player.marketValue.toLocaleString() : 'N/A'}</p>
                            <p><strong>Nivel:</strong> <span class="badge badge-${this.getProspectLevelClass(player.prospectLevel)}">${player.prospectLevel}</span></p>
                        </div>
                        <div style="margin-top: 15px;">
                            <button class="btn btn-sm btn-info view-player-detail" data-id="${player.id}">
                                <i class="fas fa-eye"></i> Ver Detalles
                            </button>
                        </div>
                    `;
                    
                    container.appendChild(card);
                });
                
                // Agregar event listeners a los botones de detalles
                document.querySelectorAll('.view-player-detail').forEach(btn => {
                    btn.addEventListener('click', () => {
                        const playerId = btn.getAttribute('data-id');
                        this.showPlayerDetails(playerId);
                    });
                });
            }
            
            // GESTIÓN
            refreshPlayersList() {
                const tableBody = document.querySelector('#playersTable tbody');
                const filterPosition = document.getElementById('filterPosition').value;
                const filterTeam = document.getElementById('filterTeam').value.toLowerCase();
                const searchText = document.getElementById('searchTable').value.toLowerCase();
                
                tableBody.innerHTML = '';
                
                let filteredPlayers = this.players;
                
                // Aplicar filtros
                if (filterPosition) {
                    filteredPlayers = filteredPlayers.filter(player => player.position === filterPosition);
                }
                
                if (filterTeam) {
                    filteredPlayers = filteredPlayers.filter(player => 
                        player.team.toLowerCase().includes(filterTeam)
                    );
                }
                
                if (searchText) {
                    filteredPlayers = filteredPlayers.filter(player => 
                        player.name.toLowerCase().includes(searchText) ||
                        player.team.toLowerCase().includes(searchText) ||
                        player.position.toLowerCase().includes(searchText)
                    );
                }
                
                if (filteredPlayers.length === 0) {
                    tableBody.innerHTML = `
                        <tr>
                            <td colspan="9" style="text-align: center; padding: 20px;">
                                No hay jugadores que coincidan con los filtros
                            </td>
                        </tr>
                    `;
                    return;
                }
                
                filteredPlayers.forEach(player => {
                    const row = document.createElement('tr');
                    const positionClass = this.getPositionClass(player.position);
                    
                    row.innerHTML = `
                        <td>${player.id.substring(0, 8)}...</td>
                        <td>${player.name}</td>
                        <td>${player.age || 'N/A'}</td>
                        <td><span class="player-position ${positionClass}">${player.position || 'N/A'}</span></td>
                        <td>${player.team}</td>
                        <td>${player.number || 'N/A'}</td>
                        <td>${player.marketValue ? '€' + player.marketValue.toLocaleString() : 'N/A'}</td>
                        <td><span class="badge badge-success">${player.status}</span></td>
                        <td>
                            <button class="btn btn-sm btn-info view-player-detail" data-id="${player.id}">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="btn btn-sm btn-danger delete-player" data-id="${player.id}">
                                <i class="fas fa-trash"></i>
                            </button>
                        </td>
                    `;
                    
                    tableBody.appendChild(row);
                });
                
                // Agregar event listeners
                document.querySelectorAll('.view-player-detail').forEach(btn => {
                    btn.addEventListener('click', () => {
                        const playerId = btn.getAttribute('data-id');
                        this.showPlayerDetails(playerId);
                    });
                });
                
                document.querySelectorAll('.delete-player').forEach(btn => {
                    btn.addEventListener('click', () => {
                        const playerId = btn.getAttribute('data-id');
                        this.deletePlayer(playerId);
                    });
                });
            }
            
            showPlayerDetails(playerId) {
                const player = this.players.find(p => p.id === playerId);
                if (!player) return;
                
                const positionClass = this.getPositionClass(player.position);
                const overallRating = this.calculateOverallRating(player);
                
                let skillsHTML = '';
                if (player.skills) {
                    skillsHTML = `
                        <h4 style="margin-top: 20px; margin-bottom: 10px; color: var(--secondary-color);">Habilidades</h4>
                        <div class="skill-bar">
                            <div class="skill-label">Regate</div>
                            <div class="skill-value">${player.skills.dribbling || 0}/10</div>
                            <div class="progress-bar" style="flex: 1;">
                                <div class="progress-fill" style="width: ${(player.skills.dribbling || 0) * 10}%"></div>
                            </div>
                        </div>
                        <div class="skill-bar">
                            <div class="skill-label">Tiro</div>
                            <div class="skill-value">${player.skills.shooting || 0}/10</div>
                            <div class="progress-bar" style="flex: 1;">
                                <div class="progress-fill" style="width: ${(player.skills.shooting || 0) * 10}%"></div>
                            </div>
                        </div>
                        <div class="skill-bar">
                            <div class="skill-label">Pase</div>
                            <div class="skill-value">${player.skills.passing || 0}/10</div>
                            <div class="progress-bar" style="flex: 1;">
                                <div class="progress-fill" style="width: ${(player.skills.passing || 0) * 10}%"></div>
                            </div>
                        </div>
                        <div class="skill-bar">
                            <div class="skill-label">Defensa</div>
                            <div class="skill-value">${player.skills.defense || 0}/10</div>
                            <div class="progress-bar" style="flex: 1;">
                                <div class="progress-fill" style="width: ${(player.skills.defense || 0) * 10}%"></div>
                            </div>
                        </div>
                        <div class="skill-bar">
                            <div class="skill-label">Físico</div>
                            <div class="skill-value">${player.skills.physical || 0}/10</div>
                            <div class="progress-bar" style="flex: 1;">
                                <div class="progress-fill" style="width: ${(player.skills.physical || 0) * 10}%"></div>
                            </div>
                        </div>
                    `;
                }
                
                const modalContent = document.getElementById('playerModalContent');
                modalContent.innerHTML = `
                    <div class="player-details">
                        <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: 20px;">
                            <div>
                                <h2 style="margin-bottom: 5px;">${player.name}</h2>
                                <p style="opacity: 0.8;">ID: ${player.id}</p>
                            </div>
                            <div style="text-align: right;">
                                <div class="player-position ${positionClass}" style="font-size: 1rem;">${player.position}</div>
                                <div style="margin-top: 5px; font-size: 1.5rem; font-weight: bold;">${overallRating}/10</div>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Edad</label>
                                <div>${player.age || 'N/A'}</div>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Nacionalidad</label>
                                <div>${player.nationality}</div>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Equipo</label>
                                <div>${player.team}</div>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Número</label>
                                <div>${player.number || 'N/A'}</div>
                            </div>
                        </div>
                        
                        <div class="form-row">
                            <div class="form-group">
                                <label class="form-label">Valor de mercado</label>
                                <div>${player.marketValue ? '€' + player.marketValue.toLocaleString() : 'N/A'}</div>
                            </div>
                            <div class="form-group">
                                <label class="form-label">Nivel de prospecto</label>
                                <div><span class="badge badge-${this.getProspectLevelClass(player.prospectLevel)}">${player.prospectLevel}</span></div>
                            </div>
                        </div>
                        
                        ${skillsHTML}
                        
                        <div class="form-group" style="margin-top: 20px;">
                            <label class="form-label">Etiquetas</label>
                            <div>${player.tags.length > 0 ? player.tags.map(tag => `<span class="badge badge-info" style="margin: 2px;">${tag}</span>`).join('') : 'Ninguna'}</div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Observaciones</label>
                            <div style="background: rgba(255,255,255,0.1); padding: 10px; border-radius: 6px; min-height: 60px;">${player.notes || 'Ninguna'}</div>
                        </div>
                        
                        <div class="form-group">
                            <label class="form-label">Fecha de registro</label>
                            <div>${new Date(player.createdDate).toLocaleString()}</div>
                        </div>
                    </div>
                `;
                
                this.openModal();
                this.logActivity(`Vio detalles de: ${player.name}`, 'info');
            }
            
            deletePlayer(playerId) {
                const player = this.players.find(p => p.id === playerId);
                if (!player) return;
                
                if (confirm(`¿Está seguro de que desea eliminar a "${player.name}"?`)) {
                    this.players = this.players.filter(p => p.id !== playerId);
                    this.saveData();
                    this.refreshPlayersList();
                    this.updateDashboard();
                    this.showNotification('Jugador eliminado correctamente', 'success');
                    this.logActivity(`Eliminó jugador: ${player.name}`, 'warning');
                }
            }
            
            // REPORTES
            updateReportSummary() {
                document.getElementById('reportTotalPlayers').textContent = this.players.length;
                
                // Calcular equipos diferentes
                const teams = new Set(this.players.map(player => player.team));
                document.getElementById('reportTotalTeams').textContent = teams.size;
                
                document.getElementById('reportTotalSearches').textContent = this.searchCount;
                document.getElementById('reportScoutingRate').textContent = '94%';
            }
            
            generateReport() {
                // En una implementación real, aquí se generaría un PDF
                // Por ahora, mostramos una notificación
                this.showNotification('Reporte generado correctamente', 'success');
                this.logActivity('Generó reporte del sistema', 'info');
            }
            
            // DASHBOARD Y ESTADÍSTICAS
            updateDashboard() {
                document.getElementById('totalPlayers').textContent = this.players.length;
                
                // Calcular equipos diferentes
                const teams = new Set(this.players.map(player => player.team));
                document.getElementById('totalTeams').textContent = teams.size;
                
                document.getElementById('totalSearches').textContent = this.searchCount;
                document.getElementById('scoutingRate').textContent = '94%';
                
                this.updateActivityTable();
            }
            
            updateActivityTable() {
                const tableBody = document.getElementById('activityTable');
                tableBody.innerHTML = '';
                
                const recentActivities = this.activityLog.slice(-5).reverse();
                
                if (recentActivities.length === 0) {
                    tableBody.innerHTML = `
                        <tr>
                            <td colspan="5" style="text-align: center; padding: 20px;">
                                No hay actividad reciente
                            </td>
                        </tr>
                    `;
                    return;
                }
                
                recentActivities.forEach(activity => {
                    const row = document.createElement('tr');
                    row.innerHTML = `
                        <td>${new Date(activity.timestamp).toLocaleString()}</td>
                        <td>Scout</td>
                        <td>${activity.action}</td>
                        <td>${activity.details || ''}</td>
                        <td><span class="badge badge-${activity.type === 'error' ? 'danger' : activity.type === 'success' ? 'success' : 'info'}">${activity.type}</span></td>
                    `;
                    tableBody.appendChild(row);
                });
            }
            
            initializeCharts() {
                // Gráfico de rendimiento
                const performanceCtx = document.getElementById('performanceChart').getContext('2d');
                new Chart(performanceCtx, {
                    type: 'line',
                    data: {
                        labels: ['Lun', 'Mar', 'Mié', 'Jue', 'Vie', 'Sáb', 'Dom'],
                        datasets: [{
                            label: 'Registros por día',
                            data: [2, 5, 3, 7, 4, 6, 3],
                            borderColor: '#2ecc71',
                            backgroundColor: 'rgba(46, 204, 113, 0.1)',
                            tension: 0.4,
                            fill: true
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false,
                        scales: {
                            y: {
                                beginAtZero: true
                            }
                        }
                    }
                });
                
                // Gráfico de posiciones
                const positionCtx = document.getElementById('positionChart').getContext('2d');
                
                // Calcular distribución por posición
                const positions = {};
                this.players.forEach(player => {
                    const pos = player.position || 'Sin posición';
                    positions[pos] = (positions[pos] || 0) + 1;
                });
                
                new Chart(positionCtx, {
                    type: 'doughnut',
                    data: {
                        labels: Object.keys(positions),
                        datasets: [{
                            data: Object.values(positions),
                            backgroundColor: [
                                '#e74c3c', '#3498db', '#f39c12', '#2ecc71', '#9b59b6', '#1abc9c'
                            ]
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false
                    }
                });
                
                // Gráficos de reportes
                this.initializeReportCharts();
            }
            
            initializeReportCharts() {
                // Gráfico de posiciones para reportes
                const reportPosCtx = document.getElementById('reportPositionChart').getContext('2d');
                
                const positions = {};
                this.players.forEach(player => {
                    const pos = player.position || 'Sin posición';
                    positions[pos] = (positions[pos] || 0) + 1;
                });
                
                new Chart(reportPosCtx, {
                    type: 'bar',
                    data: {
                        labels: Object.keys(positions),
                        datasets: [{
                            label: 'Jugadores por Posición',
                            data: Object.values(positions),
                            backgroundColor: '#2ecc71'
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false
                    }
                });
                
                // Gráfico de actividad
                const activityCtx = document.getElementById('reportActivityChart').getContext('2d');
                new Chart(activityCtx, {
                    type: 'line',
                    data: {
                        labels: ['Ene', 'Feb', 'Mar', 'Abr', 'May', 'Jun'],
                        datasets: [{
                            label: 'Registros',
                            data: [5, 8, 6, 10, 7, 12],
                            borderColor: '#2ecc71',
                            backgroundColor: 'rgba(46, 204, 113, 0.1)',
                            fill: true
                        }, {
                            label: 'Búsquedas',
                            data: [3, 6, 4, 8, 10, 7],
                            borderColor: '#3498db',
                            backgroundColor: 'rgba(52, 152, 219, 0.1)',
                            fill: true
                        }]
                    },
                    options: {
                        responsive: true,
                        maintainAspectRatio: false
                    }
                });
            }
            
            // UTILIDADES
            calculateOverallRating(player) {
                if (!player.skills) return 0;
                
                const skills = player.skills;
                const total = skills.dribbling + skills.shooting + skills.passing + skills.defense + skills.physical;
                return Math.round(total / 5);
            }
            
            getPositionClass(position) {
                switch(position) {
                    case 'Portero': return 'position-portero';
                    case 'Defensa': return 'position-defensa';
                    case 'Mediocampista': return 'position-medio';
                    case 'Delantero': return 'position-delantero';
                    default: return '';
                }
            }
            
            getProspectLevelClass(level) {
                switch(level) {
                    case 'local': return 'info';
                    case 'nacional': return 'warning';
                    case 'internacional': return 'danger';
                    default: return 'info';
                }
            }
            
            generateId() {
                return 'id_' + Math.random().toString(36).substr(2, 9) + '_' + Date.now().toString(36);
            }
            
            openModal() {
                document.getElementById('playerModal').style.display = 'flex';
            }
            
            closeModal() {
                document.getElementById('playerModal').style.display = 'none';
            }
            
            showNotification(message, type) {
                const notification = document.createElement('div');
                notification.className = `notification notification-${type}`;
                
                notification.innerHTML = `
                    <i class="fas fa-${this.getNotificationIcon(type)}"></i>
                    <span>${message}</span>
                `;
                
                document.getElementById('notificationContainer').appendChild(notification);
                
                setTimeout(() => {
                    notification.classList.add('show');
                }, 100);
                
                setTimeout(() => {
                    notification.classList.remove('show');
                    setTimeout(() => {
                        notification.remove();
                    }, 300);
                }, 4000);
            }
            
            getNotificationIcon(type) {
                switch(type) {
                    case 'success': return 'check-circle';
                    case 'error': return 'exclamation-circle';
                    case 'warning': return 'exclamation-triangle';
                    case 'info': return 'info-circle';
                    default: return 'info-circle';
                }
            }
            
            logActivity(action, type, details = '') {
                const activity = {
                    timestamp: new Date().toISOString(),
                    action: action,
                    type: type,
                    details: details
                };
                
                this.activityLog.push(activity);
                
                // Mantener solo los últimos 100 registros
                if (this.activityLog.length > 100) {
                    this.activityLog = this.activityLog.slice(-100);
                }
                
                this.saveData();
            }
            
            saveData() {
                localStorage.setItem('footballScoutingPlayers', JSON.stringify(this.players));
                localStorage.setItem('footballScoutingActivity', JSON.stringify(this.activityLog));
            }
        }
        
        // Inicializar el sistema cuando se carga la página
        document.addEventListener('DOMContentLoaded', function() {
            window.footballScoutingSystem = new FootballScoutingSystem();
        });
    </script>
</body>
</html>
